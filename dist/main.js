(function(i){var t=function(e){return new t.lib.init(e)};t.lib=t.prototype={toastify:"1.0.0",init:function(e){return this.options=e||{},this.toastElement=null,this},showToast:function(){this.toastElement=document.createElement("div"),this.toastElement.className="toastify",this.toastElement.innerText=this.options.text||"Toast message!",this.toastElement.style.position="fixed",this.toastElement.style.top="20px",this.toastElement.style.right="20px",this.toastElement.style.padding="10px 20px",this.toastElement.style.backgroundColor=this.options.backgroundColor||"#333",this.toastElement.style.color="#fff",this.toastElement.style.borderRadius="4px",this.toastElement.style.boxShadow="0 2px 6px rgba(0,0,0,0.15)",this.toastElement.style.zIndex="99999",document.body.appendChild(this.toastElement);var e=this;setTimeout(function(){e.removeElement()},this.options.duration||3e3)},removeElement:function(){this.toastElement&&(this.toastElement.style.opacity=0,setTimeout(()=>{this.toastElement&&this.toastElement.parentNode&&this.toastElement.parentNode.removeChild(this.toastElement)},500))}},t.lib.init.prototype=t.lib,i.Toastify=t})(window);document.addEventListener("DOMContentLoaded",()=>{a()});function a(){document.querySelectorAll(".aws-wishlist--trigger").forEach(t=>{let e=t.getAttribute("data-product-id");aws_wishlist_data.wishlist.includes(+e)?(t.setAttribute("data-type","REMOVE"),t.classList.add("active")):t.setAttribute("data-type","ADD");function s(){let o=t.getAttribute("data-type");n(t,e,o)}t.removeEventListener("click",s),t.addEventListener("click",s)})}window.aws_wishlist_init=a;function n(i,t,e){jQuery.ajax({url:aws_wishlist_data.ajax_url,type:"POST",data:{action:"aws_add_to_wishlist",product_id:t,action_type:e,nonce:aws_wishlist_data.nonce},success:s=>{var o;s.success?(i.setAttribute("data-type",e==="ADD"?"REMOVE":"ADD"),i.classList.toggle("active",e==="ADD"),Toastify({text:s.data.message,backgroundColor:"#28A745"}).showToast(),(o=i.closest("tr"))==null||o.remove()):(Toastify({text:s.data.message,duration:7e3,backgroundColor:"#DC3545"}).showToast(),console.error("AWS_WISHLIST_ERROR:",s.data.message))}})}
